{
  "name": "Go Development Container",
  "dockerComposeFile": [
    "../../docker-compose.yml"
  ],
  "service": "go-dev",
  "workspaceFolder": "/workspace",
  "shutdownAction": "stopCompose",
  "runServices": ["go-dev"],
  
  "customizations": {
    "vscode": {
      "settings": {
        "go.toolsManagement.checkForUpdates": "local",
        "go.useLanguageServer": true,
        "go.gopath": "/home/developer/go",
        "go.goroot": "/usr/local/go",
        "terminal.integrated.defaultProfile.linux": "/bin/bash",
        "terminal.integrated.profiles.linux": {
          "bash": {
            "path": "/bin/bash",
            "args": []
          }
        },
        "go.lintTool": "golangci-lint",
        "go.lintOnSave": "workspace",
        "editor.formatOnSave": true,
        "[go]": {
          "editor.defaultFormatter": "golang.go"
        }
      },
      "extensions": [
        // Core Go Development
        "golang.go",                              // Official Go extension (required)
        
        // Testing & Debugging
        "hbenl.vscode-test-explorer",             // Test Explorer UI
        "premparihar.gotestexplorer",             // Go Test Explorer
        
        // TODO Management
        "wayou.vscode-todo-highlight",            // TODO highlighting
        "gruntfuggly.todo-tree",                  // TODO tree view
        
        // Essential Tools
        "ms-azuretools.vscode-docker",            // Docker support (for containers)
        "skellock.just",                          // Justfile support
        "tamasfe.even-better-toml",               // TOML support (for .air.toml)
        "EditorConfig.EditorConfig"               // EditorConfig support
      ]
    }
  },
  
  "postCreateCommand": "go mod download || true",
  "postStartCommand": "git config --global --add safe.directory /workspace || true",
  
  "remoteUser": "developer",
  "mounts": [
    "source=${localEnv:HOME}/.ssh,target=/home/developer/.ssh,readonly,type=bind"
  ],
  
  "forwardPorts": [2345, 8080]
}